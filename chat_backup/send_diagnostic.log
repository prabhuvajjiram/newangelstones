RingCentral Message Sending Diagnostic
Started at: 2025-05-18 19:48:29

[19:48:29] Checking RingCentral configuration...
[19:48:29] Using RINGCENTRAL_DEFAULT_CHAT_ID: 147193044998
[19:48:29] Configuration check passed
[19:48:29] 
Step 1: Authenticating with RingCentral...
[19:48:30] Authentication successful
[19:48:30] Access token: SUFEMDFQMT...
[19:48:30] Token expires in: 3600 seconds
[19:48:30] 
Step 2: Listing RingCentral chats...
[19:48:30] Successfully retrieved 4 chats
[19:48:30] Found configured chat ID in list: angelgranites
[19:48:30] 
Step 3: Sending test message...
[19:48:30] Endpoint: https://platform.ringcentral.com/restapi/v1.0/glip/chats/147193044998/posts
[19:48:30] Message: Test message from diagnostic script at 2025-05-18 19:48:30
[19:48:30] HTTP Code: 201
[19:48:30] Response: Array
(
    [id] => 69182406623236
    [creatorId] => 63395585031
    [creationTime] => 2025-05-18T23:48:30.702Z
    [lastModifiedTime] => 2025-05-18T23:48:30.702Z
    [type] => TextMessage
    [chatId] => 147193044998
    [mentions] => Array
        (
        )

    [attachments] => Array
        (
        )

    [text] => Test message from diagnostic script at 2025-05-18 19:48:30
)

[19:48:30] Verbose log:
*   Trying 66.81.247.18:443...
* Connected to platform.ringcentral.com (66.81.247.18) port 443
* ALPN: curl offers h2,http/1.1
*  CAfile: C:/xampp/php/extras/ssl/cacert.pem
*  CApath: none
* SSL connection using TLSv1.3 / TLS_AES_256_GCM_SHA384
* ALPN: server accepted h2
* Server certificate:
*  subject: CN=*.ringcentral.com
*  start date: Jan 16 00:00:00 2025 GMT
*  expire date: Feb 14 23:59:59 2026 GMT
*  subjectAltName: host "platform.ringcentral.com" matched cert's "*.ringcentral.com"
*  issuer: C=US; O=DigiCert Inc; OU=www.digicert.com; CN=Thawte TLS RSA CA G1
*  SSL certificate verify ok.
* using HTTP/2
* [HTTP/2] [1] OPENED stream for https://platform.ringcentral.com/restapi/v1.0/glip/chats/147193044998/posts
* [HTTP/2] [1] [:method: POST]
* [HTTP/2] [1] [:scheme: https]
* [HTTP/2] [1] [:authority: platform.ringcentral.com]
* [HTTP/2] [1] [:path: /restapi/v1.0/glip/chats/147193044998/posts]
* [HTTP/2] [1] [accept: */*]
* [HTTP/2] [1] [authorization: Bearer SUFEMDFQMTRQQVMwMHxBQUFnVjBlU0RGTnVCVlJPMWF0VDhJVF90c29sdmVva3JvbUFsS0d5Uzh3ZkhXMzZyQXlkZ0lzUmVNaDk2SmVSZkp0NDFaZHhyN2pRWi1UeFJFWnBxbEJiM3haRU5lSzhuNS1NTVA5WmRkYkZVRmxwSGx1UFRtV2tZYmE1NkkzT2p6bHNRdWFuVzBfZXVoQ1lpc01raVNoQU1vMXFjSmdBS0xDNHNsdkJfd1MzX21EUkNBdjRhUTZ0UGl5WW5hczV0aUl5N2dHa05RTEwwaGhKZ2JLUUlMQTRBWUFERHd8RHUxc2pnfHVrTkx6NWRhY0dfMFB0dUdIUS1IMkF8QVF8QUF8QUFBQUFOM1gxU1k]
* [HTTP/2] [1] [content-type: application/json]
* [HTTP/2] [1] [x-ringcentral-api-group: medium]
* [HTTP/2] [1] [content-length: 69]
> POST /restapi/v1.0/glip/chats/147193044998/posts HTTP/2
Host: platform.ringcentral.com
Accept: */*
Authorization: Bearer SUFEMDFQMTRQQVMwMHxBQUFnVjBlU0RGTnVCVlJPMWF0VDhJVF90c29sdmVva3JvbUFsS0d5Uzh3ZkhXMzZyQXlkZ0lzUmVNaDk2SmVSZkp0NDFaZHhyN2pRWi1UeFJFWnBxbEJiM3haRU5lSzhuNS1NTVA5WmRkYkZVRmxwSGx1UFRtV2tZYmE1NkkzT2p6bHNRdWFuVzBfZXVoQ1lpc01raVNoQU1vMXFjSmdBS0xDNHNsdkJfd1MzX21EUkNBdjRhUTZ0UGl5WW5hczV0aUl5N2dHa05RTEwwaGhKZ2JLUUlMQTRBWUFERHd8RHUxc2pnfHVrTkx6NWRhY0dfMFB0dUdIUS1IMkF8QVF8QUF8QUFBQUFOM1gxU1k
Content-Type: application/json
X-RingCentral-API-Group: medium
Content-Length: 69

* old SSL session ID is stale, removing
< HTTP/2 201 
< date: Sun, 18 May 2025 23:48:30 GMT
< content-type: application/json; charset=utf-8
< content-length: 281
< rcrequestid: 9a1c28fe-3442-11f0-9c1e-0050568db380
< x-request-id: reqId:9a1c28fe-3442-11f0-9c1e-0050568db380;accId:63395585031;extId:63395585031
< etag: W/"119-ciRtWIq2hqZshYAfQu7tcbBUWaQ"
< x-rate-limit-group: medium
< x-rate-limit-limit: 40
< x-rate-limit-remaining: 38
< x-rate-limit-window: 60
< routingkey: IAD01P14
< cf-cache-status: DYNAMIC
< set-cookie: __cf_bm=RkPD9a5eRLtPSHyhyPkfOZ5qf.O2ATI_R.LZGljAhz0-1747612110-1.0.1.1-EAxcwBMrYmcxF2UuKuQStKSwRC1yBoNhJjcctoKSy8eVhsQ.7Wc1gDbYuujm9ieg9ETwF_ye5UPb79g8iyCV_dajVt_b.nadx8SEPOEdOsk; path=/; expires=Mon, 19-May-25 00:18:30 GMT; domain=.platform.ringcentral.com; HttpOnly; Secure
< server: cloudflare
< cf-ray: 941f3eeb5d0ae643-IAD
< 
* Connection #0 to host platform.ringcentral.com left intact

[19:48:30] Message sent successfully! Message ID: 69182406623236
[19:48:30] 
Step 4: Checking for RingCentralTeamMessagingClient class...
[19:48:30] RingCentralTeamMessagingClient.php exists
[19:48:30] Found 5 backup files:
[19:48:30]   RingCentralTeamMessagingClient.php.bak.20250518185945
[19:48:30]   RingCentralTeamMessagingClient.php.bak.20250518194230
[19:48:30]   RingCentralTeamMessagingClient.php.bak.20250518231905
[19:48:30]   RingCentralTeamMessagingClient.php.bak.20250518232035
[19:48:30]   RingCentralTeamMessagingClient.php.bak.20250518233942
[19:48:30] 
Diagnostic completed successfully
[19:48:30] 
Results have been written to: C:\Users\prabh\newangelstones1123\newangelstones\chat/send_diagnostic.log
